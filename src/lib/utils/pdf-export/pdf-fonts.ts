
import jsPDF from 'jspdf';

// Add Vazirmatn font for Persian text
export const addFontToPdf = (doc: jsPDF): jsPDF => {
  try {
    // بارگیری فونت‌های وزیر از CDN
    doc.addFileToVFS('Vazirmatn-Regular.ttf', vazirRegularFont());
    doc.addFileToVFS('Vazirmatn-Bold.ttf', vazirBoldFont());
    
    // افزودن فونت به سند
    doc.addFont('Vazirmatn-Regular.ttf', 'Vazirmatn', 'normal');
    doc.addFont('Vazirmatn-Bold.ttf', 'Vazirmatn', 'bold');
    
    // تنظیم فونت پیش‌فرض
    doc.setFont("Vazirmatn", "normal");
    
    // تنظیم اندازه فونت برای خوانایی بهتر
    doc.setFontSize(12);
  } catch (e) {
    console.error("Failed to load custom font:", e);
    // استفاده از فونت پیش‌فرض اگر فونت سفارشی بارگذاری نشد
    doc.setFont("helvetica");
  }
  
  return doc;
};

// فونت Vazirmatn-Regular به صورت Base64 (بخشی از آن)
function vazirRegularFont() {
  return 'AAEAAAASAQAABAAgR0RFRgBOAAYAAAHcAAAAKEdQT1MtP2dfAAAEIAAAAbpHU1VCgoDBwQAAAhAAAABAT1MvMnSaAagAAALcAAAAYGNtYXACiQI/AAADPAAAAZxjdnQgK6g3nAAAA3QAAABIZnBnbZJB2voAAAe8AAABYWdhc3AAAAAQAAABLAAAAAhnbHlm5ml1EAAABdwAADOkaGRteKBmLGMAAAGEAAAAEGhlYWT819JcAAABIAAAADZoaGVhC0UWAwAAAXQAAAAkaG10eFM9QkIAAAIsAAAA5mxvY2EAacpGAAAB9AAAAHRtYXhwANMBdQAAAZQAAAAgbmFtZR3v3YoAAAOYAAADlXBvc3QzQAULAAABtAAAALBwcmVwU1JLdwAABRwAAAD7d2ViZA8qGHgAAAUYAAAABgABAAIAJQAlACUAAAAAAfQCvAAFAAACigJYAAAASwKKAlgAAAFeADIBQAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABER0RGAEAAICIcA4D/gABcA4AAyAEIAAAAAAEAAAAAAfQCvAAAACAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAgnQAAA+gAyAMzAAACAAAAAwAAASAAAwAAAAMAAAADAAAAAwABAAMAAgADAAMAAwAIAAMAAAAEAAAABQABAAYABwAAAAgACQAAAAoACwAMAA0ADgAAAAAADwAQABEAAAASABMAAAAAABQAFQAAAAAAFgAXABgAGQAAABQAFQAAABoAAAAbABwAHQAAAAAAHgAfACAAIQAiACMAJAAlACYAJwAAAAAAKAApACoAKwAsAC0ALgAvAAAAAAAwADEAMgAzADQANQA2ADcAOAA5ADoAAAA7ADwAPQA+AD8AQABBAEIAQwAAAEQARQBGAEcASABJAEoASwBMAE0ATgBPAFIAUwBUAFUAVgBXAFgAWQBaAFsAXABdAF4AXwBgAGEAYgBjAGQAZQBmAGcAaABpAGoAawBtAG4AbwBwAHEAcgBzAHQAdQB2AHcAeAB5AHoAewB8AH0AfgB/AIAAgQCCAIMAhACFAIYAhwCIAIkAigCLAIwAjQCOAI8AkACRAJIAkwCUAJUAlgCXAJgAmQCaAJsAnACdAJ4AnwCgAKEAowClAKYApwCoAKkAqgCrAKwArQCuAK8AsQCyALMAtwC4ALkAugC7ALwAvQC+AL8AwADBAMIAwwDEAMUAxgDHAMgAyQDKAMsAzADNAM4AzwDQANEA0gDTANQA1QDWANcA2ADZANoA2wDcAN0A3gDfAOAA4QDiAOQA5gDoAOkA6gDrAOwA7QDuAO8A8ADxAPIA8wD0APUA9gD3APgA+QD6APsA/AD9AP4A/wEAAQEBAgEDAQQBBQEGAQcBCAEJAQoBCwEMAQ0BDgEPAREBEgETARQBFQEWARcBGAEZARoBGwEcAR0BHgEfASABIQEiASMBJAElASYBJwEoASkBKgErAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEB';
}

// فونت Vazirmatn-Bold به صورت Base64 (بخشی از آن)
function vazirBoldFont() {
  return 'AAEAAAASAQAABAAgR0RFRgBOAAYAAAHcAAAAKEdQT1MtP2dzAAAEKAAAAg5HU1VCgoDBwQAAAhAAAABAT1MvMnaSAcQAAALcAAAAYGNtYXACjgLBAAADPAAAAeBjdnQgK6g3nAAAA3QAAABIZnBnbVSVmAoAAAe8AAABuWdhc3AAAAAQAAABLAAAAAhnbHlmbT1XuAAABdwAADpYaGRteKBmLMsAAAGEAAAAEGhlYWT84NJgAAABIAAAADZoaGVhC1oWBgAAAXQAAAAkaG10eGlGS1kAAAIsAAAA/mxvY2EAnsvEAAAB9AAAAIBtYXhwAOgBhgAAAZQAAAAgbmFtZR3v3YoAAAOYAAADlXBvc3RAUAUPAAABtAAAALBwcmVwU1JLdwAABRwAAAD7d2ViZBdxGIUAAAUYAAAABgABAAIAJQAlACUAAAAAAfQCvAAFAAACigJYAAAASwKKAlgAAAFeADIBQAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABER0RGAEAAICIcA4D/gABcA4AAyAEIAAAAAAEAAAAAAfQCvAAAACAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAgnQAAA+gAyAMzAAACAAAAAwAAASAAAwAAAAMAAAADAAAAAwABAAMAAgADAAMAAwAIAAMAAAAEAAAABQABAAYABwAAAAgACQAAAAoACwAMAA0ADgAAAAAADwAQABEAAAASABMAAAAAABQAFQAAAAAAFgAXABgAGQAAABQAFQAAABoAAAAbABwAHQAAAAAAHgAfACAAIQAiACMAJAAlACYAJwAAAAAAKAApACoAKwAsAC0ALgAvAAAAAAAwADEAMgAzADQANQA2ADcAOAA5ADoAAAA7ADwAPQA+AD8AQABBAEIAQwAAAEQARQBGAEcASABJAEoASwBMAE0ATgBPAFIAUwBUAFUAVgBXAFgAWQBaAFsAXABdAF4AXwBgAGEAYgBjAGQAZQBmAGcAaABpAGoAawBtAG4AbwBwAHEAcgBzAHQAdQB2AHcAeAB5AHoAewB8AH0AfgB/AIAAgQCCAIMAhACFAIYAhwCIAIkAigCLAIwAjQCOAI8AkACRAJIAkwCUAJUAlgCXAJgAmQCaAJsAnACdAJ4AnwCgAKEAowClAKYApwCoAKkAqgCrAKwArQCuAK8AsQCyALMAtwC4ALkAugC7ALwAvQC+AL8AwADBAMIAwwDEAMUAxgDHAMgAyQDKAMsAzADNAM4AzwDQANEA0gDTANQA1QDWANcA2ADZANoA2wDcAN0A3gDfAOAA4QDiAOQA5gDoAOkA6gDrAOwA7QDuAO8A8ADxAPIA8wD0APUA9gD3APgA+QD6APsA/AD9AP4A/wEAAQEBAgEDAQQBBQEGAQcBCAEJAQoBCwEMAQ0BDgEPAREBEgETARQBFQEWARcBGAEZARoBGwEcAR0BHgEfASABIQEiASMBJAElASYBJwEoASkBKgErAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEB';
}
